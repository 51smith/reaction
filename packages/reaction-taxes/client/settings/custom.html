<template name="customTaxRates">
  <div>
    {{> React component=griddleTable
      publication="Taxes"
      collection=Taxes
      matchingResultsCount="taxes-count"
      filteredFields=filteredFields
      columns=filteredFields
      resultsPerPage=5
      onRowClick=editRow
    }}
  </div>

  {{#autoForm
    collection="ReactionCore.Collections.Taxes"
    schema="ReactionCore.Schemas.Taxes"
    type="method"
    meteormethod="taxes/addRate"
    id="customTaxRates-update-form"
  }}
    {{> afQuickField name='taxCode' options=taxCodes}}
    {{> afQuickField name='cartMethod' options="allowed"}}
    {{> afQuickField name='taxLocale' options="allowed"}}
    {{> afQuickField name='taxShipping'}}
    {{> afQuickField name='taxIncluded'}}
    {{> afQuickField name='discountsIncluded'}}
    {{> afQuickField name='country' options=countryOptions value=country}}
    <div>
      <label class="control-label">{{afFieldLabelText name='region'}}</label>
      {{#if statesForCountry}}
        {{>afFieldInput name="region" value=region options=statesForCountry}}
      {{else}}
        {{>afFieldInput name="region" value=region }}
      {{/if}}
      {{#if afFieldIsInvalid name="region"}}
      <span class="help-block">{{afFieldMessage name="region"}}</span>
      {{/if}}
    </div>
    {{> afQuickField name='postal'}}
    {{> afQuickField name='rate'}}
    {{> shopSettingsSubmitButton}}
  {{/autoForm}}
</template>
